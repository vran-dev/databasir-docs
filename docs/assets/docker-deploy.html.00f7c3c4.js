import{_ as i,r as l,o as d,c,b as a,d as s,w as t,e,a as o}from"./app.29c80318.js";const p={},h=a("h1",{id:"docker-\u90E8\u7F72",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#docker-\u90E8\u7F72","aria-hidden":"true"},"#"),e(" Docker \u90E8\u7F72")],-1),_={class:"custom-container tip"},u=a("p",{class:"custom-container-title"},"TIP",-1),b={href:"https://github.com/vran-dev/databasir",target:"_blank",rel:"noopener noreferrer"},A=e("Databasir"),m=e(" \u5DF2\u7ECF\u51C6\u5907\u597D\u4E86\u5F00\u7BB1\u5373\u7528\u7684 Docker Image\uFF0C\u53EA\u9700\u8981\u4E09\u6B65\u5C31\u80FD\u5B8C\u6210 Databasir \u7684\u90E8\u7F72"),v=a("h2",{id:"\u76EE\u5F55",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#\u76EE\u5F55","aria-hidden":"true"},"#"),e(" \u76EE\u5F55")],-1),f={class:"table-of-contents"},D=e("\u76EE\u5F55"),k=e("\u73AF\u5883\u8981\u6C42"),S=e("\u90E8\u7F72\u6D41\u7A0B"),g=e("\u5B8C\u6574\u53C2\u6570"),R=e("DATABASIR_DB_URL"),B=e("DATABASIR_DB_USERNAME"),T=e("DATABASIR_DB_PASSWORD"),x=e("DATABASIR_JWT_SECRET"),I=e("PARAMS"),E=e("\u591A\u5B9E\u4F8B\u90E8\u7F72"),M=e("\u6D4B\u6D3B\u63A5\u53E3"),P=a("h2",{id:"\u73AF\u5883\u8981\u6C42",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#\u73AF\u5883\u8981\u6C42","aria-hidden":"true"},"#"),e(" \u73AF\u5883\u8981\u6C42")],-1),y=a("ol",null,[a("li",null,"Docker"),a("li",null,"Mysql 5.7+")],-1),U=a("h2",{id:"\u90E8\u7F72\u6D41\u7A0B",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#\u90E8\u7F72\u6D41\u7A0B","aria-hidden":"true"},"#"),e(" \u90E8\u7F72\u6D41\u7A0B")],-1),w=e("\u62C9\u53D6\u955C\u50CF\uFF08\u66F4\u591A\u7248\u672C"),L={href:"https://registry.hub.docker.com/r/vrantt/databasir",target:"_blank",rel:"noopener noreferrer"},N=e("\u70B9\u51FB\u8FD9\u91CC"),W=e("\u67E5\u770B\uFF09"),q=o(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull vrantt/databasir:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>\u5728 Mysql \u4E2D\u521B\u5EFA\u6570\u636E\u5E93 databasir</li></ol><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> databasir<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>\u542F\u52A8\u955C\u50CF\uFF0C\u9700\u8981\u6307\u5B9A\u53EF\u7528\u7684 Mysql \u7684\u8FDE\u63A5\u4FE1\u606F</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -p <span class="token number">8888</span>:8080 --name my-databasir -e <span class="token assign-left variable">DATABASIR_DB_URL</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:3306 -e <span class="token assign-left variable">DATABASIR_DB_USERNAME</span><span class="token operator">=</span>root -e <span class="token assign-left variable">DATABASIR_DB_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> vrantt/databasir:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5176\u4E2D\u7684 <code>-e</code> \u547D\u4EE4\u662F\u4F20\u9012\u914D\u7F6E\u4FE1\u606F\u7ED9 databasir</p><ul><li><strong>DATABASIR_DB_PASSWORD</strong>\uFF1A\u6570\u636E\u5E93\u5730\u5740</li><li><strong>DATABASIR_DB_USERNAME</strong>\uFF1A\u6570\u636E\u5E93\u7528\u6237\u540D</li><li><strong>DATABASIR_DB_PASSWORD</strong>\uFF1A\u6570\u636E\u5E93\u5BC6\u7801</li></ul>`,7),O=e("\u542F\u52A8\u5B8C\u6210\u540E\uFF0C\u901A\u8FC7 "),V={href:"http://localhost:8888",target:"_blank",rel:"noopener noreferrer"},C=e("http://localhost:8888"),j=e(" \u4F7F\u7528\u7528\u6237\u540D\u5BC6\u7801\u767B\u5F55\u7CFB\u7EDF"),J=o(`<ul><li>\u7528\u6237\u540D\uFF1A<code>databasir</code></li><li>\u5BC6\u7801\uFF1A<code>databasir</code></li></ul><h2 id="\u5B8C\u6574\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u5B8C\u6574\u53C2\u6570" aria-hidden="true">#</a> \u5B8C\u6574\u53C2\u6570</h2><h3 id="databasir-db-url" tabindex="-1"><a class="header-anchor" href="#databasir-db-url" aria-hidden="true">#</a> DATABASIR_DB_URL</h3><p>\u8BF4\u660E\uFF1A\u6570\u636E\u5E93\u5730\u5740</p><p>\u793A\u4F8B\uFF1A127.0.0.1:3306</p><p>\u5FC5\u586B\uFF1A\u662F</p><h3 id="databasir-db-username" tabindex="-1"><a class="header-anchor" href="#databasir-db-username" aria-hidden="true">#</a> DATABASIR_DB_USERNAME</h3><p>\u8BF4\u660E\uFF1A\u8FDE\u63A5\u6570\u636E\u5E93\u7684\u7528\u6237\u540D</p><p>\u793A\u4F8B\uFF1Aroot</p><p>\u5FC5\u586B\uFF1A\u662F</p><h3 id="databasir-db-password" tabindex="-1"><a class="header-anchor" href="#databasir-db-password" aria-hidden="true">#</a> DATABASIR_DB_PASSWORD</h3><p>\u8BF4\u660E\uFF1A\u8FDE\u63A5\u6570\u636E\u5E93\u7684\u5BC6\u7801</p><p>\u793A\u4F8B\uFF1A127.0.0.1:3306</p><p>\u5FC5\u586B\uFF1A\u662F</p><h3 id="databasir-jwt-secret" tabindex="-1"><a class="header-anchor" href="#databasir-jwt-secret" aria-hidden="true">#</a> DATABASIR_JWT_SECRET</h3><p>\u8BF4\u660E\uFF1A\u751F\u6210\u7528\u6237\u767B\u5F55\u51ED\u8BC1\u7684\u79D8\u94A5</p><p>\u793A\u4F8B\uFF1Aabcd-1234-abcd-1234</p><p>\u5FC5\u586B\uFF1A</p><ul><li>\u5355\u5B9E\u4F8B\u90E8\u7F72\u975E\u5FC5\u586B\uFF0C\u5E94\u7528\u542F\u52A8\u65F6\u4F1A\u9ED8\u8BA4\u751F\u6210 UUID</li><li>\u591A\u5B9E\u4F8B\u90E8\u7F72\u4E0B\u4E00\u5B9A\u5F97\u6307\u5B9A\u8BE5\u914D\u7F6E\u503C\uFF0C\u5E76\u4E14\u591A\u4E2A\u5B9E\u4F8B\u9700\u8981\u4FDD\u6301\u4E00\u81F4</li></ul><h3 id="params" tabindex="-1"><a class="header-anchor" href="#params" aria-hidden="true">#</a> PARAMS</h3><p>\u5FC5\u586B\uFF1A\u5426</p><p>\u8BF4\u660E\uFF1A</p><p>\u901A\u8FC7\u6307\u5B9A\u8BE5\u53C2\u6570\u53EF\u4EE5\u5B9E\u73B0\u8986\u76D6\u4EFB\u610F\u5185\u7F6E\u914D\u7F6E\u7684\u4F5C\u7528\uFF0C\u4F7F\u7528\u8BE5\u53C2\u6570\u9700\u8981\u7528\u6237\u5BF9 Databasir \u7684\u5E94\u7528\u6E90\u7801\u6709\u4E00\u5B9A\u7684\u4E86\u89E3\u3002</p><p>\u793A\u4F8B\uFF1A</p><p>\u4E0B\u9762\u7684\u547D\u4EE4\u5C31\u901A\u8FC7 <code>PARAMS</code> \u53C2\u6570\u8986\u76D6\u4E86\u7CFB\u7EDF\u9884\u7F6E\u7684 <code>spring.datasource.url</code> \u914D\u7F6E\uFF0C\u4ECE\u800C\u5B9E\u73B0\u4E86\u5728\u6570\u636E\u5E93\u8FDE\u63A5 URL \u540E\u6DFB\u52A0\u53C2\u6570 <code>useSSL=false</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -it -d --name my-databasir -e <span class="token assign-left variable">DATABASIR_DB_USERNAME</span><span class="token operator">=</span>root -e <span class="token assign-left variable">DATABASIR_DB_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> -e <span class="token assign-left variable">PARAMS</span><span class="token operator">=</span><span class="token string">&#39;--spring.datasource.url=jdbc:mysql://127.0.0.1:3306/databasir?useSSL=false&#39;</span> vrantt/databasir:latest -p <span class="token number">8888</span>:8080
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u591A\u5B9E\u4F8B\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u591A\u5B9E\u4F8B\u90E8\u7F72" aria-hidden="true">#</a> \u591A\u5B9E\u4F8B\u90E8\u7F72</h2><p>\u5982\u679C\u9700\u8981\u90E8\u7F72\u591A\u4E2A Databasir \u5B9E\u4F8B\uFF0C\u6709\u51E0\u70B9\u9700\u8981\u989D\u5916\u6CE8\u610F</p><p><strong>\u4E00\u3001\u5B9E\u4F8B\u4E4B\u95F4\u7684 DATABASIR_JWT_SECRET \u503C\u9700\u8981\u4FDD\u6301\u4E00\u76F4</strong></p><p>Dataabsir \u4F1A\u4F7F\u7528\u8BE5\u79D8\u94A5\u6765\u751F\u6210\u3001\u6821\u9A8C\u767B\u5F55\u51ED\u8BC1\uFF0C\u5982\u679C\u591A\u4E2A\u5B9E\u4F8B\u4E4B\u95F4\u7684\u503C\u4E0D\u4E00\u81F4\u5C31\u6781\u6709\u53EF\u80FD\u51FA\u73B0\u4E0B\u9762\u7684\u60C5\u51B5</p><ul><li>\u7528\u6237\u5728\u5B9E\u4F8B 1\u767B\u5F55\u6210\u529F\u540E\uFF0C\u4F7F\u7528 A \u79D8\u94A5\u7B7E\u53D1\u4E86\u51ED\u8BC1</li><li>\u7528\u6237\u8BF7\u6C42\u5B9E\u4F8B 2\u63A5\u53E3\uFF0C\u4F7F\u7528 B \u79D8\u94A5\u9A8C\u8BC1\u51ED\u8BC1\u5931\u8D25</li></ul><p><strong>\u4E8C\u3001\u5C06\u591A\u5B9E\u4F8B\u7684\u9A71\u52A8\u76EE\u5F55\u6620\u5C04\u5230\u540C\u4E00\u4E2A Volume</strong></p><p>\u7528\u6237\u4E0A\u4F20\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u9A71\u52A8\u4F1A\u4FDD\u5B58\u5230\u9879\u76EE\u6240\u5728\u76EE\u5F55\u7684 <code>drivers/</code> \u6587\u4EF6\u5939\u4E0B\uFF0C\u5982\u679C\u591A\u4E2A\u5B9E\u4F8B\u4E4B\u95F4\u4E0D\u5171\u4EAB Volume\uFF0C\u5C31\u4F1A\u51FA\u73B0</p><ul><li>\u4E0A\u4F20\u5230\u4E86\u5B9E\u4F8B 1 \u7684 <code>drivers/</code> \u76EE\u5F55</li><li>\u5B9E\u4F8B 2 \u540C\u6B65\u6570\u636E\u5E93\u65F6\u5728\u5F53\u524D\u76EE\u5F55\u5DEE\u627E\u4E0D\u5230\u9A71\u52A8\u6587\u4EF6\uFF0C\u5C31\u51FA\u73B0\u540C\u6B65\u5931\u8D25</li></ul><h2 id="\u6D4B\u6D3B\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u6D3B\u63A5\u53E3" aria-hidden="true">#</a> \u6D4B\u6D3B\u63A5\u53E3</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u5982\u679C\u4F60\u4F7F\u7528 K8s \u90E8\u7F72\uFF0C\u53EF\u80FD\u9700\u8981\u4F7F\u7528\u8BE5\u63A5\u53E3</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>GET /live
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD4\u56DE 200 \u5373\u8868\u793A\u542F\u52A8\u6210\u529F</p>`,38);function G(K,z){const r=l("ExternalLinkIcon"),n=l("RouterLink");return d(),c("div",null,[h,a("div",_,[u,a("p",null,[a("a",b,[A,s(r)]),m])]),v,a("nav",f,[a("ul",null,[a("li",null,[s(n,{to:"#\u76EE\u5F55"},{default:t(()=>[D]),_:1})]),a("li",null,[s(n,{to:"#\u73AF\u5883\u8981\u6C42"},{default:t(()=>[k]),_:1})]),a("li",null,[s(n,{to:"#\u90E8\u7F72\u6D41\u7A0B"},{default:t(()=>[S]),_:1})]),a("li",null,[s(n,{to:"#\u5B8C\u6574\u53C2\u6570"},{default:t(()=>[g]),_:1}),a("ul",null,[a("li",null,[s(n,{to:"#databasir-db-url"},{default:t(()=>[R]),_:1})]),a("li",null,[s(n,{to:"#databasir-db-username"},{default:t(()=>[B]),_:1})]),a("li",null,[s(n,{to:"#databasir-db-password"},{default:t(()=>[T]),_:1})]),a("li",null,[s(n,{to:"#databasir-jwt-secret"},{default:t(()=>[x]),_:1})]),a("li",null,[s(n,{to:"#params"},{default:t(()=>[I]),_:1})])])]),a("li",null,[s(n,{to:"#\u591A\u5B9E\u4F8B\u90E8\u7F72"},{default:t(()=>[E]),_:1})]),a("li",null,[s(n,{to:"#\u6D4B\u6D3B\u63A5\u53E3"},{default:t(()=>[M]),_:1})])])]),P,y,U,a("ol",null,[a("li",null,[w,a("a",L,[N,s(r)]),W])]),q,a("p",null,[O,a("a",V,[C,s(r)]),j]),J])}var H=i(p,[["render",G],["__file","docker-deploy.html.vue"]]);export{H as default};
